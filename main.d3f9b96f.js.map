{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tbody","tBodies","tHead","directionSortTable","indxCell","getSalary","salEmployee","textContent","split","join","addEventListener","event","item","target","employees","children","sort","a","b","localeCompare","cellIndex","append","indxRow","itemBody","selector","classList","contains","parentElement","rowIndex","remove","className","bodyTag","createForm","createElement","arrCity","action","i","length","createLabel","createInput","createSelect","for","y","createOption","id","value","name","type","createFormButton","editingTd","pushNotification","top","right","title","description","createDiv","titleH2","createP","add","style","cssText","setTimeout","validateForm","x","focus","addNewEmployee","createTr","numSalary","createTd","reverse","splice","makeTdEditable","td","elem","data","innerHTML","inputCreateCell","appendChild","firstChild","keyCode","preventDefault","closest","nodeName"],"mappings":";AAAA,aAoXC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAlXD,IAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAQH,EAAMI,QAAQ,GACtBC,EAAQL,EAAMK,MAChBC,EAAqB,MACrBC,EAAW,EA+Ff,SAASC,EAAUC,GACT,OAACA,EAAYC,YAClBC,MAAM,KAAKC,KAAK,IAAID,MAAM,KAAKC,KAAK,IA/FzCP,EAAMQ,iBAAiB,QAAS,SAACC,GACzBC,IAAAA,EAAOD,EAAME,OACbC,EAAgBd,EAAAA,EAAMe,UAEpBH,OAAAA,EAAKL,aACN,IAAA,OACc,IAAbH,GAAyC,SAAvBD,GACpBW,EAAUE,KAAK,SAACC,EAAGC,GACTA,OAAAA,EAAEH,SAAS,GAAGR,YACnBY,cAAcF,EAAEF,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAErBW,EAAUE,KAAK,SAACC,EAAGC,GACTD,OAAAA,EAAEF,SAAS,GAAGR,YACnBY,cAAcD,EAAEH,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAEvB,MAEG,IAAA,WACc,IAAbC,GAAyC,SAAvBD,GACpBW,EAAUE,KAAK,SAACC,EAAGC,GACTA,OAAAA,EAAEH,SAAS,GAAGR,YACnBY,cAAcF,EAAEF,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAErBW,EAAUE,KAAK,SAACC,EAAGC,GACTD,OAAAA,EAAEF,SAAS,GAAGR,YACnBY,cAAcD,EAAEH,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAEvB,MAEG,IAAA,SACc,IAAbC,GAAyC,SAAvBD,GACpBW,EAAUE,KAAK,SAACC,EAAGC,GACTA,OAAAA,EAAEH,SAAS,GAAGR,YACnBY,cAAcF,EAAEF,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAErBW,EAAUE,KAAK,SAACC,EAAGC,GACTD,OAAAA,EAAEF,SAAS,GAAGR,YACnBY,cAAcD,EAAEH,SAAS,GAAGR,eAEjCH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAEvB,MAEG,IAAA,MACc,IAAbC,GAAyC,SAAvBD,GACpBW,EAAUE,KAAK,SAACC,EAAGC,GACT,OAACA,EAAEH,SAAS,GAAGR,aAAgBU,EAAEF,SAAS,GAAGR,cAEvDH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAErBW,EAAUE,KAAK,SAACC,EAAGC,GACT,OAACD,EAAEF,SAAS,GAAGR,aAAgBW,EAAEH,SAAS,GAAGR,cAEvDH,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAEvB,MAEG,IAAA,SACc,IAAbC,GAAyC,SAAvBD,GACpBW,EAAUE,KAAK,SAACC,EAAGC,GAAMb,OAAAA,EAAUa,EAAEH,SAAS,IAC1CV,EAAUY,EAAEF,SAAS,MACzBX,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAErBW,EAAUE,KAAK,SAACC,EAAGC,GAAMb,OAAAA,EAAUY,EAAEF,SAAS,IAC1CV,EAAUa,EAAEH,SAAS,MACzBX,EAAWQ,EAAKQ,UAChBjB,EAAqB,QAK3BH,EAAMqB,OAANrB,MAAAA,EAAgBc,EAAAA,MAUlB,IAAIQ,EAAU,EAEdtB,EAAMU,iBAAiB,QAAS,SAACC,GACzBY,IAAAA,EAAWZ,EAAME,OAEjBW,EAAWxB,EAAMD,cAAc,WAEpB,OAAbyB,GAAqBA,EAASC,UAAUC,SAAS,WAChDJ,IAAYC,EAASI,cAAcC,WACtCJ,EAASC,UAAUI,OAAO,UAC1BN,EAASI,cAAcG,UAAY,UAGpB,OAAbN,GAAqBA,EAASC,UAAUC,SAAS,WAChDJ,IAAYC,EAASI,cAAcC,SACtCJ,EAASC,UAAUI,OAAO,WAE1BN,EAASI,cAAcG,UAAY,SACnCR,EAAUC,EAASI,cAAcC,YAMrC,IAAMG,EAAUjC,SAASC,cAAc,QACjCiC,EAAalC,SAASmC,cAAc,QACpCC,EAAU,CAAhB,QAAA,YAAA,SAAA,WAAA,YAAA,iBAIAF,EAAWF,UAAY,oBACvBE,EAAWG,OAAS,gBAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAIlC,EAAMa,SAAS,GAAGA,SAASsB,OAAQD,IAAK,CACpDE,IAAAA,EAAcxC,SAASmC,cAAc,SACrCM,EAAczC,SAASmC,cAAc,SACrCO,EAAe1C,SAASmC,cAAc,UAKxC/B,GAHJoC,EAAYG,IAAMvC,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YAChD+B,EAAY/B,YAAiBL,GAAAA,OAAAA,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YAA3D,KAEkD,WAA9CL,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YAC3B,IAAA,IAAImC,EAAI,EAAGA,EAAIR,EAAQG,OAAQK,IAAK,CACjCC,IAAAA,EAAe7C,SAASmC,cAAc,UAE5CO,EAAaI,GAAK1C,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YAChDoC,EAAaE,MAAQX,EAAQQ,GAC7BC,EAAapC,YAAc2B,EAAQQ,GACnCF,EAAanB,OAAOsB,GACpBL,EAAYjB,OAAOmB,GACnBR,EAAWX,OAAOiB,QAGpBC,EAAYO,KAAO5C,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YACjDgC,EAAYK,GAAK1C,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YAEG,QAA9CL,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,aACiB,WAA9CL,EAAMa,SAAS,GAAGA,SAASqB,GAAG7B,YACjCgC,EAAYQ,KAAO,SAEnBR,EAAYQ,KAAO,OAIrBT,EAAYjB,OAAOkB,GACnBP,EAAWX,OAAOiB,GAMtB,IAAMU,EAAmBlD,SAASmC,cAAc,UAEhDe,EAAiBzC,YAAc,gBAC/ByB,EAAWX,OAAO2B,GAElBjB,EAAQV,OAAOW,GAIf,IA2HIiB,EA3HEC,EAAmB,SAACC,EAAKC,EAAOC,EAAOC,EAAaP,GAClDQ,IAAAA,EAAYzD,SAASmC,cAAc,OACnCuB,EAAU1D,SAASmC,cAAc,MACjCwB,EAAU3D,SAASmC,cAAc,KAEvCsB,EAAU9B,UAAUiC,IAAI,eAAmBX,GAAAA,OAAAA,IAE3CQ,EAAUI,MAAMC,QAAkBT,QAAAA,OAAAA,EAAiBC,eAAAA,OAAAA,EAAnD,MAEAI,EAAQ/B,UAAUiC,IAAI,SACtBF,EAAQjD,YAAiB8C,GAAAA,OAAAA,GAEzBI,EAAQlD,YAAiB+C,GAAAA,OAAAA,GAEzBC,EAAUlC,OAAOmC,EAASC,GAE1B3D,SAASC,cAAc,QAAQsB,OAAOkC,GAEtCM,WAAW,WAAMN,OAAAA,EAAU1B,UAAU,MAcvC,SAASiC,IACF,IAAA,IAAIC,EAAI,EAAGA,EAAI/B,EAAWK,OAAS,EAAG0B,IAAK,CAC1C/B,GAAuB,SAAvBA,EAAW+B,GAAGjB,MAAmBd,EAAW+B,GAAGlB,MAAMR,OAAS,EAQzD,OAPPa,EAAiB,GAAI,GAChBlB,GAAAA,OAAAA,EAAW+B,GAAGjB,MAEjB,kDAAA,SAEFd,EAAW+B,GAAGC,SAEP,EAGLhC,GAAuB,QAAvBA,EAAW+B,GAAGjB,KAAgB,CAC5Bd,GAAAA,EAAW+B,GAAGlB,MAAQ,GASjB,OARPK,EAAiB,GAAI,GAChBlB,GAAAA,OAAAA,EAAW+B,GAAGjB,MAGjB,sFAAA,SAEFd,EAAW+B,GAAGC,SAEP,EACF,GAAIhC,EAAW+B,GAAGlB,MAAQ,GAOxB,OANPK,EAAiB,GAAI,GAChBlB,GAAAA,OAAAA,EAAW+B,GAAGjB,MACjB,sDAAuD,SAEzDd,EAAW+B,GAAGC,SAEP,EAIPhC,GAAwB,KAAxBA,EAAW+B,GAAGlB,MAOT,OANPK,EAAiB,GAAI,GAChBlB,GAAAA,OAAAA,EAAW+B,GAAGjB,MACjB,oBAAA,WAEFd,EAAW+B,GAAGC,SAEP,EAIJ,OAAA,EAIT,SAASC,IAIF,IAHCC,IAAAA,EAAWpE,SAASmC,cAAc,MACpCkC,EAAY,EAEPJ,EAAI,EAAGA,EAAI/B,EAAWK,OAAS,EAAG0B,IAAK,CACxCK,IAAAA,EAAWtE,SAASmC,cAAc,MAKpCD,GAHJoC,EAAS7D,YAAcyB,EAAW+B,GAAGlB,MACrCqB,EAAS7C,OAAO+C,GAES,WAArBpC,EAAW+B,GAAGnB,GAAdZ,CAIAA,GAAqB,WAArBA,EAAW+B,GAAGnB,GAAiB,CAG7BZ,GAFJmC,EAAYnC,EAAW+B,GAAGlB,MAEtBb,EAAW+B,GAAGlB,MAAMR,QAAU,EAChC8B,EAAYnC,EAAW+B,GAAGlB,UACrB,EACLsB,EAAYA,EAAU3D,MAAM,KAClB6D,UAEL,IAAA,IAAIjC,EAAI,EAAGA,GAAK+B,EAAU9B,OAAQD,IACjCA,EAAI,GAAM,GAAKA,EAAI,GACrB+B,EAAUG,OAAOlC,EAAI,EAAG,EAAG,KAG/B+B,EAAUE,UAEVF,EAAYA,EAAU1D,KAAK,IAE7B2D,EAAS7D,YAAkB4D,IAAAA,OAAAA,GAG7BnC,EAAW+B,GAAGlB,MAAQ,IAExB7C,EAAMqB,OAAO6C,GAsBf,SAASK,EAAeC,GACtBvB,EAAY,CACVwB,KAAMD,EACNE,KAAMF,EAAGG,WAGLC,IAAAA,EAAkB9E,SAASmC,cAAc,SAE/C2C,EAAgB9C,UAAY,aAC5B8C,EAAgB/B,MAAQ2B,EAAGG,UAE3BH,EAAGG,UAAY,GACfH,EAAGK,YAAYD,GACfA,EAAgBZ,QAEhBY,EAAgBlE,iBAAiB,OAAQ,WACnCkE,GAA0B,KAA1BA,EAAgB/B,MAKlB,OAJA2B,EAAGG,UAAY1B,EAAUyB,KACzBF,EAAG/C,UAAUI,OAAO,mBACpBoB,EAAY,MAIduB,EAAGG,UAAYH,EAAGM,WAAWjC,MAC7B2B,EAAG/C,UAAUI,OAAO,cACpBoB,EAAY,OACX,GAEH2B,EAAgBlE,iBAAiB,QAAS,SAACC,GACrCA,GAAkB,KAAlBA,EAAMoE,QAAgB,CACpBH,GAA0B,KAA1BA,EAAgB/B,MAKlB,OAJA2B,EAAGG,UAAY1B,EAAUyB,KACzBF,EAAG/C,UAAUI,OAAO,mBACpBoB,EAAY,MAKduB,EAAGG,UAAYH,EAAGM,WAAWjC,MAC7B2B,EAAG/C,UAAUI,OAAO,cACpBoB,EAAY,QA9JlBjB,EAAWtB,iBAAiB,SAAU,SAACC,GACrCA,EAAMqE,iBAEFlB,KACFG,MAkGJjE,EAAMU,iBAAiB,WAAY,SAACC,GAC5BE,IAAAA,EAASF,EAAME,OAAOoE,QAAQ,4BAEhC,GAACpF,EAAM6B,SAASb,IAII,OAApBA,EAAOqE,SAAmB,CACxBjC,GAAAA,EACF,OAGFsB,EAAe1D","file":"main.d3f9b96f.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = table.tBodies[0];\nconst tHead = table.tHead;\nlet directionSortTable = 'asc';\nlet indxCell = 0;\n\ntHead.addEventListener('click', (event) => {\n  const item = event.target;\n  const employees = [...tbody.children];\n\n  switch (item.textContent) {\n    case 'Name':\n      if (indxCell === 0 && directionSortTable === 'desc') {\n        employees.sort((a, b) => {\n          return (b.children[0].textContent\n            .localeCompare(a.children[0].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'asc';\n      } else {\n        employees.sort((a, b) => {\n          return (a.children[0].textContent\n            .localeCompare(b.children[0].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'desc';\n      }\n      break;\n\n    case 'Position':\n      if (indxCell === 1 && directionSortTable === 'desc') {\n        employees.sort((a, b) => {\n          return (b.children[1].textContent\n            .localeCompare(a.children[1].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'asc';\n      } else {\n        employees.sort((a, b) => {\n          return (a.children[1].textContent\n            .localeCompare(b.children[1].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'desc';\n      }\n      break;\n\n    case 'Office':\n      if (indxCell === 2 && directionSortTable === 'desc') {\n        employees.sort((a, b) => {\n          return (b.children[2].textContent\n            .localeCompare(a.children[2].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'asc';\n      } else {\n        employees.sort((a, b) => {\n          return (a.children[2].textContent\n            .localeCompare(b.children[2].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'desc';\n      }\n      break;\n\n    case 'Age':\n      if (indxCell === 3 && directionSortTable === 'desc') {\n        employees.sort((a, b) => {\n          return (+b.children[3].textContent - (+a.children[3].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'asc';\n      } else {\n        employees.sort((a, b) => {\n          return (+a.children[3].textContent - (+b.children[3].textContent));\n        });\n        indxCell = item.cellIndex;\n        directionSortTable = 'desc';\n      }\n      break;\n\n    case 'Salary':\n      if (indxCell === 4 && directionSortTable === 'desc') {\n        employees.sort((a, b) => getSalary(b.children[4])\n          - getSalary(a.children[4]));\n        indxCell = item.cellIndex;\n        directionSortTable = 'asc';\n      } else {\n        employees.sort((a, b) => getSalary(a.children[4])\n          - getSalary(b.children[4]));\n        indxCell = item.cellIndex;\n        directionSortTable = 'desc';\n      }\n      break;\n  }\n\n  tbody.append(...employees);\n});\n\nfunction getSalary(salEmployee) {\n  return (+salEmployee.textContent\n    .split(',').join('').split('$').join(''));\n}\n\n/* Body select=====\n============== */\nlet indxRow = 0;\n\ntbody.addEventListener('click', (event) => {\n  const itemBody = event.target;\n\n  const selector = tbody.querySelector('.active');\n\n  if (selector !== null && selector.classList.contains('active')\n    && indxRow !== itemBody.parentElement.rowIndex) {\n    selector.classList.remove('active');\n    itemBody.parentElement.className = 'active';\n  }\n\n  if (selector !== null && selector.classList.contains('active')\n    && indxRow === itemBody.parentElement.rowIndex) {\n    selector.classList.remove('active');\n  } else {\n    itemBody.parentElement.className = 'active';\n    indxRow = itemBody.parentElement.rowIndex;\n  }\n});\n\n/* Body form=====\n============== */\nconst bodyTag = document.querySelector('body');\nconst createForm = document.createElement('form');\nconst arrCity = [\n  `Tokyo`, `Singapore`, `London`, `New York`, `Edinburgh`, `San Francisco`,\n];\n\ncreateForm.className = 'new-employee-form';\ncreateForm.action = 'addEmployee()';\n\nfor (let i = 0; i < tHead.children[0].children.length; i++) {\n  const createLabel = document.createElement('label');\n  const createInput = document.createElement('input');\n  const createSelect = document.createElement('select');\n\n  createLabel.for = tHead.children[0].children[i].textContent;\n  createLabel.textContent = `${tHead.children[0].children[i].textContent}:`;\n\n  if (tHead.children[0].children[i].textContent === 'Office') {\n    for (let y = 0; y < arrCity.length; y++) {\n      const createOption = document.createElement('option');\n\n      createSelect.id = tHead.children[0].children[i].textContent;\n      createOption.value = arrCity[y];\n      createOption.textContent = arrCity[y];\n      createSelect.append(createOption);\n      createLabel.append(createSelect);\n      createForm.append(createLabel);\n    }\n  } else {\n    createInput.name = tHead.children[0].children[i].textContent;\n    createInput.id = tHead.children[0].children[i].textContent;\n\n    if (tHead.children[0].children[i].textContent === 'Age'\n      || tHead.children[0].children[i].textContent === 'Salary') {\n      createInput.type = 'number';\n    } else {\n      createInput.type = 'text';\n    }\n    // createInput.required = 'required';\n    // createInput.placeholder = tHead.children[0].children[i].textContent;\n    createLabel.append(createInput);\n    createForm.append(createLabel);\n  }\n}\n\n/* Body form-button=====\n============== */\nconst createFormButton = document.createElement('button');\n\ncreateFormButton.textContent = 'Save to table';\ncreateForm.append(createFormButton);\n\nbodyTag.append(createForm);\n\n/* Body form - end ================== */\n\nconst pushNotification = (top, right, title, description, type) => {\n  const createDiv = document.createElement('div');\n  const titleH2 = document.createElement('h2');\n  const createP = document.createElement('p');\n\n  createDiv.classList.add('notification', `${type}`);\n\n  createDiv.style.cssText = `top: ${top}px; right: ${right}px`;\n\n  titleH2.classList.add('title');\n  titleH2.textContent = `${title}`;\n\n  createP.textContent = `${description}`;\n\n  createDiv.append(titleH2, createP);\n\n  document.querySelector('body').append(createDiv);\n\n  setTimeout(() => createDiv.remove(), 4000);\n};\n\n/* Add new employee in table */\n\ncreateForm.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  if (validateForm()) {\n    addNewEmployee();\n  };\n});\n\n/*  Throw notification and validates form */\nfunction validateForm() {\n  for (let x = 0; x < createForm.length - 1; x++) {\n    if (createForm[x].name === 'Name' && createForm[x].value.length < 4) {\n      pushNotification(50, 50,\n        `${createForm[x].name}`,\n        `The name must contain more than four characters`,\n        'error');\n\n      createForm[x].focus();\n\n      return false;\n    }\n\n    if (createForm[x].name === 'Age') {\n      if (createForm[x].value > 90) {\n        pushNotification(50, 50,\n          `${createForm[x].name}`,\n          `Sorry, you cannot be our employee -\n            we are looking for young employees`,\n          'error');\n\n        createForm[x].focus();\n\n        return false;\n      } else if (createForm[x].value < 18) {\n        pushNotification(50, 50,\n          `${createForm[x].name}`,\n          \"Sorry, you can't be our employee - you're too young\", 'error');\n\n        createForm[x].focus();\n\n        return false;\n      }\n    }\n\n    if (createForm[x].value === '') {\n      pushNotification(50, 50,\n        `${createForm[x].name}`, `Fill in the blank`,\n        'warning');\n\n      createForm[x].focus();\n\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/* Add new employee */\nfunction addNewEmployee() {\n  const createTr = document.createElement('tr');\n  let numSalary = 0;\n\n  for (let x = 0; x < createForm.length - 1; x++) {\n    const createTd = document.createElement('td');\n\n    createTd.textContent = createForm[x].value;\n    createTr.append(createTd);\n\n    if (createForm[x].id === 'Office') {\n      continue;\n    }\n\n    if (createForm[x].id === 'Salary') {\n      numSalary = createForm[x].value;\n\n      if (createForm[x].value.length <= 3) {\n        numSalary = createForm[x].value;\n      } else {\n        numSalary = numSalary.split('');\n        numSalary.reverse();\n\n        for (let i = 0; i <= numSalary.length; i++) {\n          if (i % 4 === 0 && i > 0) {\n            numSalary.splice(i - 1, 0, ',');\n          }\n        };\n        numSalary.reverse();\n\n        numSalary = numSalary.join('');\n      }\n      createTd.textContent = `$${numSalary}`;\n    }\n\n    createForm[x].value = '';\n  }\n  tbody.append(createTr);\n}\n\n/* Editing of table cells */\nlet editingTd;\n\ntbody.addEventListener('dblclick', (event) => {\n  const target = event.target.closest('.edit-cancel,.edit-ok,td');\n\n  if (!table.contains(target)) {\n    return;\n  }\n\n  if (target.nodeName === 'TD') {\n    if (editingTd) {\n      return;\n    }\n\n    makeTdEditable(target);\n  }\n});\n\nfunction makeTdEditable(td) {\n  editingTd = {\n    elem: td,\n    data: td.innerHTML,\n  };\n\n  const inputCreateCell = document.createElement('input');\n\n  inputCreateCell.className = 'cell-input';\n  inputCreateCell.value = td.innerHTML;\n\n  td.innerHTML = '';\n  td.appendChild(inputCreateCell);\n  inputCreateCell.focus();\n\n  inputCreateCell.addEventListener('blur', () => {\n    if (inputCreateCell.value === '') {\n      td.innerHTML = editingTd.data;\n      td.classList.remove('cell-input');\n      editingTd = null;\n\n      return;\n    }\n    td.innerHTML = td.firstChild.value;\n    td.classList.remove('cell-input');\n    editingTd = null;\n  }, true);\n\n  inputCreateCell.addEventListener('keyup', (event) => {\n    if (event.keyCode === 13) {\n      if (inputCreateCell.value === '') {\n        td.innerHTML = editingTd.data;\n        td.classList.remove('cell-input');\n        editingTd = null;\n\n        return;\n      }\n\n      td.innerHTML = td.firstChild.value;\n      td.classList.remove('cell-input');\n      editingTd = null;\n    }\n  });\n};\n"]}